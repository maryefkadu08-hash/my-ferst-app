<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <title>ፕሮፌሽናል የጥናት ሰዓት</title>
    <style>
        /* የዳራ ቀለም ለውጥን ለማሳየት transition እንጨምራለን */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: white;
            transition: background-color 1s ease; /* ቀለሙ በዝግታ እንዲቀየር */
        }
        .container {
            text-align: center;
            background: rgba(52, 73, 94, 0.9);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 350px;
        }
        .timer-display {
            font-size: 80px;
            font-weight: bold;
            margin: 20px 0;
            color: #ecf0f1;
        }
        .buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button {
            padding: 12px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            font-weight: bold;
        }
        .start { background-color: #27ae60; color: white; grid-column: span 2; }
        .break { background-color: #3498db; color: white; }
        .reset { background-color: #e67e22; color: white; }
        button:hover { opacity: 0.8; transform: scale(1.02); }
    </style>
</head>
<body>

<div class="container">
    <h1 id="status">ትኩረት አድርግ (Work)</h1>
    <div class="timer-display" id="time">25:00</div>
    <div class="buttons">
        <button class="start" onclick="toggleTimer()" id="startBtn">ጀምር</button>
        <button class="break" onclick="setTimer(5, 'እረፍት (Break)')">የ5 ደቂቃ እረፍት</button>
        <button class="reset" onclick="resetTimer()">እንደገና ጀምር</button>
    </div>
</div>

<audio id="alarmSound">
    <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
</audio>

<script>
    let timeLeft = 25 * 60;
    let timerId = null;
    let isRunning = false;
    let alarm = document.getElementById('alarmSound');

    function updateDisplay() {
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        document.getElementById('time').innerHTML = 
            `${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }

    function setTimer(mins, statusText) {
        clearInterval(timerId);
        isRunning = false;
        timeLeft = mins * 60;
        document.getElementById('status').innerHTML = statusText;
        document.getElementById('startBtn').innerHTML = "ጀምር";
        document.body.style.backgroundColor = "#2c3e50"; // ዳራውን ወደ መደበኛ መመለስ
        updateDisplay();
    }

    function toggleTimer() {
        if (isRunning) {
            clearInterval(timerId);
            document.getElementById('startBtn').innerHTML = "ቀጥል";
            isRunning = false;
        } else {
            isRunning = true;
            document.getElementById('startBtn').innerHTML = "አቁም";
            timerId = setInterval(() => {
                timeLeft--;
                updateDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    completeSession();
                }
            }, 1000);
        }
    }

    function completeSession() {
        alarm.play(); // ድምፅ ያሰማል
        document.body.style.backgroundColor = "#27ae60"; // ዳራውን ወደ አረንጓዴ ይቀይራል
        document.getElementById('status').innerHTML = "ጊዜው አብቅቷል!";
        alert("ጊዜው አልቋል!");
    }

    function resetTimer() {
        setTimer(25, 'ትኩረት አድርግ (Work)');
    }
</script>

</body>
</html>